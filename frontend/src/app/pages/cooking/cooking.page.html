<div class="section-header">
  <div>
    <div class="eyebrow">Cooking radar</div>
    <h2>Dishes you can make with what you have.</h2>
    <p class="lede">
      Live look at your pantry coverage. Filters keep you focused on quick wins or high-protein options.
    </p>
  </div>
  <div class="chips">
    <button
      class="chip"
      [class.active]="activeFilter() === 'all'"
      (click)="setFilter('all')"
    >
      All
    </button>
    <button
      class="chip"
      [class.active]="activeFilter() === 'quick'"
      (click)="setFilter('quick')"
    >
      Under 30m
    </button>
    <button
      class="chip"
      [class.active]="activeFilter() === 'vegetarian'"
      (click)="setFilter('vegetarian')"
    >
      Vegetarian &amp; Vegan
    </button>
    <button
      class="chip"
      [class.active]="activeFilter() === 'protein'"
      (click)="setFilter('protein')"
    >
      High-protein
    </button>
  </div>
</div>

<div class="grid">
  @for (dish of filteredDishes(); track dish.name) {
    <article class="card" [class.locked]="!dish.canCook">
      <header>
        <div>
          <p class="eyebrow subtle">{{ dish.skill }}</p>
          <h3>{{ dish.name }}</h3>
        </div>
        <span class="pill">{{ dish.time }}</span>
      </header>

      <div class="tags">
        @for (tag of dish.tags; track tag) {
          <span class="tag">{{ tag }}</span>
        }
      </div>

      @if (dish.missing.length === 0) {
        <p class="ready">All ingredients available. You can start cooking now.</p>
      } @else {
        <p class="missing">
          Missing:
          <strong>{{ dish.missing.join(', ') }}</strong>
        </p>
      }

      <footer>
        <button class="secondary">View recipe</button>
        <button class="primary" [disabled]="!dish.canCook">
          {{ dish.canCook ? 'Cook this' : 'Add missing items' }}
        </button>
      </footer>
    </article>
  }
</div>
